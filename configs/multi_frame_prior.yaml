# Multi-frame trajectory prior for video post-processing
#
# USE CASE: Dynamic grasping trajectory with significant rotation
# - Hand approaches, grasps, then rotates object
# - Clear rotation change visible between frames
# - Object: Apple at origin, ~4cm radius

contact: {mode: uniform}

priors:
  # Frame 0: Initial contact - palm facing down toward object
  - translation: [0.0, 0.0, 0.10]  # Directly above object
    quaternion: [0.0, 1.0, 0.0, 0.0]  # Palm facing down (180° around Y)
    joints:
      index_joint_0: 0.0
      index_joint_1: 0.6
      index_joint_2: 0.8
      index_joint_3: 0.6
      middle_joint_0: 0.0
      middle_joint_1: 0.6
      middle_joint_2: 0.8
      middle_joint_3: 0.6
      ring_joint_0: 0.0
      ring_joint_1: 0.6
      ring_joint_2: 0.8
      ring_joint_3: 0.6
      thumb_joint_0: 1.0
      thumb_joint_1: 0.5
      thumb_joint_2: 0.6
      thumb_joint_3: 0.2

  # Frame 1: Grasp secured - rotated 45° around Z
  - translation: [0.02, 0.02, 0.08]  # Slightly offset
    quaternion: [0.38, 0.92, 0.0, 0.0]  # Rotated ~45° around Z from palm-down
    joints:
      index_joint_0: 0.0
      index_joint_1: 0.75
      index_joint_2: 0.95
      index_joint_3: 0.75
      middle_joint_0: 0.0
      middle_joint_1: 0.75
      middle_joint_2: 0.95
      middle_joint_3: 0.75
      ring_joint_0: 0.0
      ring_joint_1: 0.75
      ring_joint_2: 0.95
      ring_joint_3: 0.75
      thumb_joint_0: 1.2
      thumb_joint_1: 0.6
      thumb_joint_2: 0.7
      thumb_joint_3: 0.25

  # Frame 2: Rotating object - 90° rotation, tilting
  - translation: [0.05, 0.0, 0.06]  # Moving to side
    quaternion: [0.5, 0.5, 0.5, 0.5]  # Significant rotation - palm now facing side
    joints:
      index_joint_0: 0.0
      index_joint_1: 0.8
      index_joint_2: 1.0
      index_joint_3: 0.8
      middle_joint_0: 0.0
      middle_joint_1: 0.8
      middle_joint_2: 1.0
      middle_joint_3: 0.8
      ring_joint_0: 0.0
      ring_joint_1: 0.8
      ring_joint_2: 1.0
      ring_joint_3: 0.8
      thumb_joint_0: 1.3
      thumb_joint_1: 0.65
      thumb_joint_2: 0.75
      thumb_joint_3: 0.3

  # Frame 3: Final position - 135° total rotation, palm nearly facing up
  - translation: [0.04, -0.03, 0.05]  # Offset to other side
    quaternion: [0.71, 0.0, 0.71, 0.0]  # Palm facing mostly up/sideways
    joints:
      index_joint_0: -0.05
      index_joint_1: 0.85
      index_joint_2: 1.05
      index_joint_3: 0.85
      middle_joint_0: 0.0
      middle_joint_1: 0.85
      middle_joint_2: 1.05
      middle_joint_3: 0.85
      ring_joint_0: 0.05
      ring_joint_1: 0.85
      ring_joint_2: 1.05
      ring_joint_3: 0.85
      thumb_joint_0: 1.35
      thumb_joint_1: 0.7
      thumb_joint_2: 0.8
      thumb_joint_3: 0.35

# Moderate jitter for batch diversity
jitter_translation: 0.01  # 10mm
jitter_rotation: 0.05
jitter_joints: 0.03
prior_weight: 10.0
dt: 0.1
